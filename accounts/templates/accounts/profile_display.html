{% extends 'base.html' %}
{% load static %}

{% block title %}
    {{ profile_user.first_name|default:profile_user.username }} {{ profile_user.last_name|default:'' }}'s Profile | {{ platform_name|default:"BookHaven" }}
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-12">
    <div class="max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-xl">
        <div class="flex flex-col sm:flex-row items-center sm:items-start">
            <!-- Placeholder for profile picture -->
            <div class="w-32 h-32 bg-gray-300 rounded-full flex items-center justify-center text-gray-500 text-4xl mb-6 sm:mb-0 sm:mr-8 flex-shrink-0">
                {{ profile_user.first_name|default:profile_user.username|first|upper }}
            </div>
            <div class="flex-grow text-center sm:text-left">
                <h1 class="text-3xl sm:text-4xl font-bold text-indigo-700">
                    {{ profile_user.first_name|default:"" }} {{ profile_user.middle_name|default:"" }} {{ profile_user.last_name|default:"" }}
                </h1>
                <p class="text-lg text-gray-600">@{{ profile_user.username }}</p>
                
                {% if profile_user.email and is_own_profile %}
                    <p class="text-sm text-gray-500 mt-1">Email: {{ profile_user.email }}</p>
                {% endif %}
                
                {% if profile_user.date_of_birth %}
                <p class="text-sm text-gray-500 mt-1">Date of Birth: {{ profile_user.date_of_birth|date:"F d, Y" }}</p>
                {% endif %}

                {% if is_own_profile %}
                    <div class="mt-6">
                        <a href="{% url 'accounts:edit_user_profile' username=request.user.username %}"
                           class="inline-block px-6 py-3 bg-indigo-600 text-white font-semibold rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 ease-in-out">
                            Edit Profile
                        </a>
                    </div>
                {% endif %}
            </div>
        </div>

        {% if profile_user.bio %}
            <div class="mt-10 pt-8 border-t border-gray-200">
                <h2 class="text-2xl font-semibold text-gray-700 mb-4">Bio</h2>
                <p class="text-gray-600 leading-relaxed whitespace-pre-line">{{ profile_user.bio }}</p>
            </div>
        {% endif %}

        <!-- Placeholder for other profile sections like activity, groups, content etc. -->
        <div class="mt-10 pt-8 border-t border-gray-200">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4">Activity (Placeholder)</h2>
            <p class="text-gray-500">User's recent activity, created content, or joined groups could be displayed here.</p>
        </div>

    </div>
</div>
{% endblock %} 